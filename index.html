<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel="stylesheet" href="css/style.css">

</head>
<body>
    <audio id="loading" src="music/music.mp3" autoplay="true" hidden="true" loop="true"></audio>

<div class="video-background">
    <iframe height="100%" width="130%" src="https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqbXNxbUtYcXpRY29jVk1OaWtuS2U3ZXFOcGREUXxBQ3Jtc0trZnlQMWlpZkR3US1EWUk4WlgyNFdpVHBZaFNkaFpoRUVrNGdzTUQ4OFM3cEZ5OGpwcHpZcnllOWNOZ0dWYzZXN3J4Z3dxaFUtLVlHUlA2a1hMV0xqXzVQT29EVjQ3dG9sUV9qVkRWUXJUb3JVc2FkWQ&q=https%3A%2F%2Fdiscord.gg%2FJcPGB4qMN2&v=BF8Q-qW_vBs" frameborder="0"></iframe>
</div>
<div id="app">
	<div id="wrapper">
		<h1 class="glitch" data-text="
		NAME SERVER">Porsche</h1>
		<span class="sub"><RP>Y</b></span>
	</div>
    <div class="footer">
        <div class="loadbar"><div class="thingy"></div></div>
    </div>
</div>
<script type="text/javascript">
    var count = 0;
    var thisCount = 0;

    const handlers = {

        initFunctionInvoking(data) {
            document.querySelector('.thingy').style.left = '0%';
            document.querySelector('.thingy').style.width = ((data.idx / count) * 100) + '%';
        },

        startDataFileEntries(data) {
            count = data.count;


        },

        performMapLoadFunction(data) {
            ++thisCount;

            document.querySelector('.thingy').style.left = '0%';
            document.querySelector('.thingy').style.width = ((thisCount / count) * 100) + '%';
        },

        onLogLine(data) {

        }
    };

    window.addEventListener('message', function(e) {
        (handlers[e.data.eventName] || function() {})(e.data);
    });
</script>
<script>
    var play = false;
            var vid = document.getElementById("loading");
            vid.volume = 0.1;
            window.addEventListener('keyup', function(e)
            {
                if (e.which == 69){
                    vid.volume = Math.min(vid.volume + 0.1,1);
                } else if(e.which == 65){
                    vid.volume = Math.max(vid.volume - 0.1,0);
                };
            });
    
            var audio = document.querySelector('audio');
    
            if (audio) {
    
            window.addEventListener('keydown', function (event) {
    
            var key = event.which || event.keyCode;
    
            if (key === 32) { // spacebar
    
            event.preventDefault();
    
            audio.paused ? audio.play() : audio.pause();
          
        }
    
      });
    }
    </script>
</body>
</html>
